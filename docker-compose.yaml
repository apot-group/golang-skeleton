x-networks: &golang-skeleton-networks
  - golang-skeleton-net
x-golang-skeleton-api-port: &golang-skeleton-api-port
  - "8080:8080"
x-golang-skeleton-redis-port: &golang-skeleton-redis-port
  - "6379:6379"


version: '3.8'

services:
  api:
    build:
      context: ./
      dockerfile: ./Dockerfile
    container_name: golang-skeleton-api
    restart: unless-stopped
    command: sh -c "./main"
    ports: *golang-skeleton-api-port
    networks: *golang-skeleton-networks
  # redis:
  #   image: redis:latest
  #   restart: unless-stopped
  #   hostname: redis
  #   ports: *golang-skeleton-redis-port
  #   networks: *golang-skeleton-networks
    # volumes:
    #   - ./redis/dump.rdb:/data/dump.rdb
    #   - ./redis/redis.conf:/usr/local/etc/redis/redis.conf

  # rabitmq:
  # db:


networks:
  golang-skeleton-net:
